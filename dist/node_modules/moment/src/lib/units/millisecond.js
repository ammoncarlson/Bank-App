"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const get_set_1 = require("../moment/get-set");
const format_1 = require("../format/format");
const aliases_1 = require("./aliases");
const priorities_1 = require("./priorities");
const regex_1 = require("../parse/regex");
const token_1 = require("../parse/token");
const constants_1 = require("./constants");
const to_int_1 = require("../utils/to-int");
// FORMATTING
format_1.addFormatToken('S', 0, 0, function () {
    return ~~(this.millisecond() / 100);
});
format_1.addFormatToken(0, ['SS', 2], 0, function () {
    return ~~(this.millisecond() / 10);
});
format_1.addFormatToken(0, ['SSS', 3], 0, 'millisecond');
format_1.addFormatToken(0, ['SSSS', 4], 0, function () {
    return this.millisecond() * 10;
});
format_1.addFormatToken(0, ['SSSSS', 5], 0, function () {
    return this.millisecond() * 100;
});
format_1.addFormatToken(0, ['SSSSSS', 6], 0, function () {
    return this.millisecond() * 1000;
});
format_1.addFormatToken(0, ['SSSSSSS', 7], 0, function () {
    return this.millisecond() * 10000;
});
format_1.addFormatToken(0, ['SSSSSSSS', 8], 0, function () {
    return this.millisecond() * 100000;
});
format_1.addFormatToken(0, ['SSSSSSSSS', 9], 0, function () {
    return this.millisecond() * 1000000;
});
// ALIASES
aliases_1.addUnitAlias('millisecond', 'ms');
// PRIORITY
priorities_1.addUnitPriority('millisecond', 16);
// PARSING
regex_1.addRegexToken('S', regex_1.match1to3, regex_1.match1);
regex_1.addRegexToken('SS', regex_1.match1to3, regex_1.match2);
regex_1.addRegexToken('SSS', regex_1.match1to3, regex_1.match3);
var token;
for (token = 'SSSS'; token.length <= 9; token += 'S') {
    regex_1.addRegexToken(token, regex_1.matchUnsigned);
}
function parseMs(input, array) {
    array[constants_1.MILLISECOND] = to_int_1.default(('0.' + input) * 1000);
}
for (token = 'S'; token.length <= 9; token += 'S') {
    token_1.addParseToken(token, parseMs);
}
// MOMENTS
exports.getSetMillisecond = get_set_1.makeGetSet('Milliseconds', false);
//# sourceMappingURL=millisecond.js.map