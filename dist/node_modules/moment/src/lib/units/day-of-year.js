"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const format_1 = require("../format/format");
const aliases_1 = require("./aliases");
const priorities_1 = require("./priorities");
const regex_1 = require("../parse/regex");
const token_1 = require("../parse/token");
const to_int_1 = require("../utils/to-int");
// FORMATTING
format_1.addFormatToken('DDD', ['DDDD', 3], 'DDDo', 'dayOfYear');
// ALIASES
aliases_1.addUnitAlias('dayOfYear', 'DDD');
// PRIORITY
priorities_1.addUnitPriority('dayOfYear', 4);
// PARSING
regex_1.addRegexToken('DDD', regex_1.match1to3);
regex_1.addRegexToken('DDDD', regex_1.match3);
token_1.addParseToken(['DDD', 'DDDD'], function (input, array, config) {
    config._dayOfYear = to_int_1.default(input);
});
// HELPERS
// MOMENTS
function getSetDayOfYear(input) {
    var dayOfYear = Math.round((this.clone().startOf('day') - this.clone().startOf('year')) / 864e5) + 1;
    return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');
}
exports.getSetDayOfYear = getSetDayOfYear;
//# sourceMappingURL=day-of-year.js.map