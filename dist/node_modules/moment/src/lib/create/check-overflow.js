"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const month_1 = require("../units/month");
const constants_1 = require("../units/constants");
const parsing_flags_1 = require("../create/parsing-flags");
function checkOverflow(m) {
    var overflow;
    var a = m._a;
    if (a && parsing_flags_1.default(m).overflow === -2) {
        overflow =
            a[constants_1.MONTH] < 0 || a[constants_1.MONTH] > 11 ? constants_1.MONTH :
                a[constants_1.DATE] < 1 || a[constants_1.DATE] > month_1.daysInMonth(a[constants_1.YEAR], a[constants_1.MONTH]) ? constants_1.DATE :
                    a[constants_1.HOUR] < 0 || a[constants_1.HOUR] > 24 || (a[constants_1.HOUR] === 24 && (a[constants_1.MINUTE] !== 0 || a[constants_1.SECOND] !== 0 || a[constants_1.MILLISECOND] !== 0)) ? constants_1.HOUR :
                        a[constants_1.MINUTE] < 0 || a[constants_1.MINUTE] > 59 ? constants_1.MINUTE :
                            a[constants_1.SECOND] < 0 || a[constants_1.SECOND] > 59 ? constants_1.SECOND :
                                a[constants_1.MILLISECOND] < 0 || a[constants_1.MILLISECOND] > 999 ? constants_1.MILLISECOND :
                                    -1;
        if (parsing_flags_1.default(m)._overflowDayOfYear && (overflow < constants_1.YEAR || overflow > constants_1.DATE)) {
            overflow = constants_1.DATE;
        }
        if (parsing_flags_1.default(m)._overflowWeeks && overflow === -1) {
            overflow = constants_1.WEEK;
        }
        if (parsing_flags_1.default(m)._overflowWeekday && overflow === -1) {
            overflow = constants_1.WEEKDAY;
        }
        parsing_flags_1.default(m).overflow = overflow;
    }
    return m;
}
exports.default = checkOverflow;
//# sourceMappingURL=check-overflow.js.map